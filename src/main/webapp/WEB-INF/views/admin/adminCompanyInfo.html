<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head th:include="masterlayout/masterpage :: headFragment">
    <title>Admin</title>
</head>
<body id="skin-blur-violate" th:attr="id=${session.userSkin}">
<!-- <header id="header" class="media" th:include="masterlayout/masterpage :: headerFragment"></header> -->

<div class="clearfix"></div>

<section id="main" class="p-relative" role="main">
    <!-- Side Menu -->
    <ul class="list-unstyled side-menu hidden-xs" th:include="common/sidebar/_sidemenu :: sidemenuFragment"/>

    <!-- Sidebar -->
    <aside id="sidebar" th:include="common/sidebar/_sidebar :: sidebarFragment"/>

    <!-- Content -->
    <section id="content" class="container">
        <h2 class="page-title">Root Admin</h2>

        <div class="block-area">
            <div class="filter-time">
                <!--<a href="addUser" id="createNewUser" class="btn">Create New User</a>-->

                <button type="button" class="btn btn-primary btn-lg" data-toggle="modal" data-target="#modalCreateUser" id="btn-create">
                    Create new Info
                </button>

            </div>
            <div th:if="${info != null}" class="modal" id="modalCreateUser" tabindex="-1" role="dialog"
                 aria-labelledby="exampleModalLabel">
                <form action="saveInfo" th:action="@{/admin/info/saveInfo}" role="form" class="form-validation-1"
                      method="post" th:object="${info}" data-toggle="validator" id="createDialogForm">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-header">
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                                        aria-hidden="true">&times;</span></button>
                                <h4 class="modal-title" id="exampleModalLabel">Create New Info</h4>
                            </div>
                            <div class="modal-body">
                                <div class="form-group">
                                    <label for="infoName" class="control-label">Company name:</label>
                                    <input type="hidden" th:field="*{id}" id="idInfo"/>
                                    <input type="text" class="form-control validate[required]" th:field="*{name}" id="nameInfo" />
                                    
                                                                        
                                    <label for="email" class="control-label">email:</label>
                                    <input type="text" class="form-control validate[required,custom[email]]" th:field="*{email}" id="emailInfo" />
                                    
                                    <label for="phone" class="control-label">Phone:</label>
                                    <input type="text" class="form-control validate[required]" th:field="*{phone}" id="phoneInfo" />
                                    
                                    <label for="address" class="control-label">Address:</label>
                                    <input type="text" class="form-control validate[required]" th:field="*{address}" id="addressInfo" />
                      
                                    <label for="description" class="control-label">Descritption</label>
                                    <textarea  type="text" class="form-control" th:field="*{description}" id="descriptionInfo" ></textarea>

                                </div>

                                <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>
                            </div>
                            <div class="modal-footer">
                                <button type="submit" class="btn btn-primary btn-submit">Create Info</button>
                                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                            </div>
                        </div>
                    </div>
                </form>
            </div>

            <!-- Dialog confirm when delete event -->
            <div  class="modal" id="modalDeleteUser" tabindex="-1" role="dialog"
                  aria-labelledby="exampleModalLabel">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                            <h4 class="modal-title">Delete Confirm</h4>
                        </div>
                        <div class="modal-body">
                            <p>Are you sure to delete info:&nbsp; <strong id="selectedUser" ></strong>&nbsp;? </p>
                        </div>
                        <div class="modal-footer">
                            <a class="btn btn-primary" id="idUserDelete" href="#">Delete Info</a>
                            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                        </div>
                    </div>
                </div>
            </div>
            <!-- End delete dialog -->
        </div>

        <hr class="whiter"/>
        <div class="block-area" id="tableStriped">
            <h3 class="block-title">List Info</h3>

            <div class="table-responsive overflow" tabindex="5005" style="overflow: hidden; outline: none;">
                <table class="tile table table-bordered table-hover table-responsive">
                    <thead>
                    <tr>
                        <th class="hidden"></th>
                        <th ><input type="checkbox" class="checkbox"/></th>
                        <th width="10%">Name</th>
                        <th width="10%">Email</th>
                        <th width="10%">Phone</th>
                        <th width="20%">Address</th>
                        <th width="40%">Description</th>
                        <th width="10%">Content Control</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr th:each="info : ${page.getContent()}">
                        <td class="hidden"><input type="text" th:value="${info.id}" /></td>
                        <td ><input type="checkbox" class="checkbox"/></td>
                        <td  th:text="${info.name}" ></td>
                        <td  th:text="${info.email}" ></td>
                        <td  th:text="${info.phone}" ></td>
                        <td th:text="${info.address}"></td>
                        <td  th:utext="${info.description}"></td>
                        <td><a class="btn btn-alt btn-edit btn-sm" data-toggle="modal" data-target="#modalCreateUser"><i class="icon">
                            &#61952;</i> Edit</a>
                            <a class="btn btn-alt btn-delete btn-sm" data-th-id="${info.id}" data-th-content="${info.name}" data-toggle="modal" href="#modalDeleteUser" th:onclick="'confirmDeleteUser(' + @{'/admin/info/deleteInfo/?' + ${info.id}} + ');'" ><i class="icon">
                                &#61918;</i> Delete</a></td>
                    </tr>
                    <tr th:if="${page.getTotalPages() > 1}">
                        <td colspan="7" class="noHover">
                            <!-- Pagging -->
                            <ul class="btn-group pull-right pagination">
                                <li ><a th:if="${!page.isFirstPage()}" th:href="@{'/admin/info/?index=' + ${page.getNumber() - 1}}">&laquo;</a></li>
                                <li th:each="pageNumber:${#numbers.sequence(0, page.getTotalPages() - 1)}"  >
                                    <a th:if="${page.getNumber() == pageNumber}" class="active"  th:text="${pageNumber+1}" th:href="@{'/admin/info/?index=' + ${pageNumber}}"></a>
                                    <a th:if="${page.getNumber() != pageNumber}" th:text="${pageNumber+1}" th:href="@{'/admin/info/?index=' + ${pageNumber}}"></a>
                                </li>
                                <li ><a th:if="${!page.isLastPage()}" th:href="@{'/admin/info/?index=' + ${page.getNumber() + 1}}">&raquo;</a></li>
                            </ul>
                            <!-- End Pagging -->
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>
        <hr class="whiter"/>
    </section>

    <!-- Older IE Message -->
    <!--[if lt IE 9]>
    <div class="ie-block" th:include="dashboard/_ie9block :: ie9BlockFragment"/>
    <![endif]-->
</section>
<div th:include="masterlayout/masterpage :: pluginScriptLibraryFragment" ></div>
<script src="/resources/javascript/admin.js" th:src="@{/resources/javascript/adminCompanyInfo.js}"></script>
</body>

</html>